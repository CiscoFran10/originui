{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "comp-551",
  "type": "registry:component",
  "files": [
    {
      "path": "registry/default/components/comp-551.tsx",
      "content": "\"use client\"\n\nimport type React from \"react\"\nimport {\n  AlertCircleIcon,\n  DownloadIcon,\n  FileArchiveIcon,\n  FileIcon,\n  FileSpreadsheetIcon,\n  FileTextIcon,\n  HeadphonesIcon,\n  ImageIcon,\n  Trash2Icon,\n  UploadCloudIcon,\n  UploadIcon,\n  VideoIcon,\n  XIcon,\n} from \"lucide-react\"\n\nimport {\n  formatBytes,\n  useFileUpload,\n} from \"@/registry/default/hooks/use-file-upload\"\nimport { Button } from \"@/registry/default/ui/button\"\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from \"@/registry/default/ui/table\"\n\n// Create some dummy initial files\nconst initialFiles = [\n  {\n    name: \"document.pdf\",\n    size: 528737,\n    type: \"application/pdf\",\n    url: \"https://originui.com\",\n    id: \"document.pdf-1744638436563-8u5xuls\",\n  },\n  {\n    name: \"intro.zip\",\n    size: 252873,\n    type: \"application/zip\",\n    url: \"https://originui.com\",\n    id: \"intro.zip-1744638436563-8u5xuls\",\n  },\n  {\n    name: \"conclusion.xlsx\",\n    size: 352873,\n    type: \"application/xlsx\",\n    url: \"https://originui.com\",\n    id: \"conclusion.xlsx-1744638436563-8u5xuls\",\n  },\n]\n\nconst getFileIcon = (file: { file: File | { type: string; name: string } }) => {\n  const fileType = file.file instanceof File ? file.file.type : file.file.type\n  const fileName = file.file instanceof File ? file.file.name : file.file.name\n\n  if (\n    fileType.includes(\"pdf\") ||\n    fileName.endsWith(\".pdf\") ||\n    fileType.includes(\"word\") ||\n    fileName.endsWith(\".doc\") ||\n    fileName.endsWith(\".docx\")\n  ) {\n    return <FileTextIcon className=\"size-4 opacity-60\" />\n  } else if (\n    fileType.includes(\"zip\") ||\n    fileType.includes(\"archive\") ||\n    fileName.endsWith(\".zip\") ||\n    fileName.endsWith(\".rar\")\n  ) {\n    return <FileArchiveIcon className=\"size-4 opacity-60\" />\n  } else if (\n    fileType.includes(\"excel\") ||\n    fileName.endsWith(\".xls\") ||\n    fileName.endsWith(\".xlsx\")\n  ) {\n    return <FileSpreadsheetIcon className=\"size-4 opacity-60\" />\n  } else if (fileType.includes(\"video/\")) {\n    return <VideoIcon className=\"size-4 opacity-60\" />\n  } else if (fileType.includes(\"audio/\")) {\n    return <HeadphonesIcon className=\"size-4 opacity-60\" />\n  } else if (fileType.startsWith(\"image/\")) {\n    return <ImageIcon className=\"size-4 opacity-60\" />\n  }\n  return <FileIcon className=\"size-4 opacity-60\" />\n}\n\nexport default function Component() {\n  const maxSize = 10 * 1024 * 1024 // 10MB default\n  const maxFiles = 10\n\n  const [\n    { files, isDragging, errors },\n    {\n      handleDragEnter,\n      handleDragLeave,\n      handleDragOver,\n      handleDrop,\n      openFileDialog,\n      removeFile,\n      clearFiles,\n      getInputProps,\n    },\n  ] = useFileUpload({\n    multiple: true,\n    maxFiles,\n    maxSize,\n    initialFiles,\n  })\n\n  return (\n    <div className=\"flex flex-col gap-2\">\n      {/* Drop area */}\n      <div\n        onDragEnter={handleDragEnter}\n        onDragLeave={handleDragLeave}\n        onDragOver={handleDragOver}\n        onDrop={handleDrop}\n        data-dragging={isDragging || undefined}\n        data-files={files.length > 0 || undefined}\n        className=\"border-input data-[dragging=true]:bg-accent/50 has-[input:focus]:border-ring has-[input:focus]:ring-ring/50 flex min-h-56 flex-col items-center rounded-xl border border-dashed p-4 transition-colors not-data-[files]:justify-center has-[input:focus]:ring-[3px] data-[files]:hidden\"\n      >\n        <input\n          {...getInputProps()}\n          className=\"sr-only\"\n          aria-label=\"Upload files\"\n        />\n        <div className=\"flex flex-col items-center justify-center text-center\">\n          <div\n            className=\"bg-background mb-2 flex size-11 shrink-0 items-center justify-center rounded-full border\"\n            aria-hidden=\"true\"\n          >\n            <FileIcon className=\"size-4 opacity-60\" />\n          </div>\n          <p className=\"mb-1.5 text-sm font-medium\">Upload files</p>\n          <p className=\"text-muted-foreground text-xs\">\n            Max {maxFiles} files âˆ™ Up to {maxSize}MB\n          </p>\n          <Button variant=\"outline\" className=\"mt-4\" onClick={openFileDialog}>\n            <UploadIcon className=\"-ms-1 opacity-60\" aria-hidden=\"true\" />\n            Select files\n          </Button>\n        </div>\n      </div>\n      {files.length > 0 && (\n        <>\n          {/* Table with files */}\n          <div className=\"flex items-center justify-between gap-2\">\n            <h3 className=\"text-sm font-medium\">Files ({files.length})</h3>\n            <div className=\"flex gap-2\">\n              <Button variant=\"outline\" size=\"sm\" onClick={openFileDialog}>\n                <UploadCloudIcon\n                  className=\"-ms-0.5 size-3.5 opacity-60\"\n                  aria-hidden=\"true\"\n                />\n                Add files\n              </Button>\n              <Button variant=\"outline\" size=\"sm\" onClick={clearFiles}>\n                <Trash2Icon\n                  className=\"-ms-0.5 size-3.5 opacity-60\"\n                  aria-hidden=\"true\"\n                />\n                Remove all\n              </Button>\n            </div>\n          </div>\n          <div className=\"bg-background overflow-hidden rounded-md border\">\n            <Table>\n              <TableHeader className=\"text-xs\">\n                <TableRow className=\"bg-muted/50\">\n                  <TableHead className=\"h-9 py-2\">Name</TableHead>\n                  <TableHead className=\"h-9 py-2\">Type</TableHead>\n                  <TableHead className=\"h-9 py-2\">Size</TableHead>\n                  <TableHead className=\"h-9 w-0 py-2 text-right\">\n                    Actions\n                  </TableHead>\n                </TableRow>\n              </TableHeader>\n              <TableBody className=\"text-[13px]\">\n                {files.map((file) => (\n                  <TableRow key={file.id}>\n                    <TableCell className=\"max-w-48 py-2 font-medium\">\n                      <span className=\"flex items-center gap-2\">\n                        <span className=\"shrink-0\">{getFileIcon(file)}</span>{\" \"}\n                        <span className=\"truncate\">{file.file.name}</span>\n                      </span>\n                    </TableCell>\n                    <TableCell className=\"text-muted-foreground py-2\">\n                      {file.file.type.split(\"/\")[1]?.toUpperCase() || \"UNKNOWN\"}\n                    </TableCell>\n                    <TableCell className=\"text-muted-foreground py-2\">\n                      {formatBytes(file.file.size)}\n                    </TableCell>\n                    <TableCell className=\"py-2 text-right whitespace-nowrap\">\n                      <Button\n                        size=\"icon\"\n                        variant=\"ghost\"\n                        className=\"text-muted-foreground/80 hover:text-foreground size-8 hover:bg-transparent\"\n                        aria-label={`Download ${file.file.name}`}\n                        onClick={() => window.open(file.preview, \"_blank\")}\n                      >\n                        <DownloadIcon className=\"size-4\" />\n                      </Button>\n                      <Button\n                        size=\"icon\"\n                        variant=\"ghost\"\n                        className=\"text-muted-foreground/80 hover:text-foreground size-8 hover:bg-transparent\"\n                        aria-label={`Remove ${file.file.name}`}\n                        onClick={() => removeFile(file.id)}\n                      >\n                        <Trash2Icon className=\"size-4\" />\n                      </Button>\n                    </TableCell>\n                  </TableRow>\n                ))}\n              </TableBody>\n            </Table>\n          </div>\n        </>\n      )}\n\n      {errors.length > 0 && (\n        <div\n          className=\"text-destructive flex items-center gap-1 text-xs\"\n          role=\"alert\"\n        >\n          <AlertCircleIcon className=\"size-3 shrink-0\" />\n          <span>{errors[0]}</span>\n        </div>\n      )}\n\n      <p\n        aria-live=\"polite\"\n        role=\"region\"\n        className=\"text-muted-foreground mt-2 text-center text-xs\"\n      >\n        Multiple files uploader w/ table\n      </p>\n    </div>\n  )\n}\n",
      "type": "registry:component"
    }
  ],
  "meta": {
    "tags": [
      "upload",
      "file"
    ],
    "colSpan": 2
  }
}